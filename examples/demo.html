<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>JS Map Selector</title>
    <script src="https://kit.fontawesome.com/a0574da52d.js" crossorigin="anonymous"></script>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
    <style type="text/css">
        .col > .card {
            height: 100%;
        }

        /* Location Selector */
        .map-selector-map {
            height: 300px;
        }

        .material-controls {
            margin-top: 16px;
            border: 1px solid transparent;
            border-radius: 2px 0 0 2px;
            box-sizing: border-box;
            -moz-box-sizing: border-box;
            height: 32px;
            outline: none;
            box-shadow: 0 2px 6px rgba(0, 0, 0, 0.3);
        }

        .map-selector-search {
            background-color: #fff;
            font-size: 15px;
            font-weight: 300;
            margin-left: 12px;
            padding: 0 11px 0 13px;
            text-overflow: ellipsis;
            direction: ltr;
            width: 90%;
        }

        .map-selector-search:focus {
            border-color: var(--bs-primary-border-subtle);
        }

        /**
        Marker Animation
         */
        @keyframes drop {
            0% {
                transform: translateY(-200px) scaleY(0.9);
                opacity: 0;
            }
            5% {
                opacity: 0.7;
            }
            50% {
                transform: translateY(0px) scaleY(1);
                opacity: 1;
            }
            65% {
                transform: translateY(-17px) scaleY(0.9);
                opacity: 1;
            }
            75% {
                transform: translateY(-22px) scaleY(0.9);
                opacity: 1;
            }
            100% {
                transform: translateY(0px) scaleY(1);
                opacity: 1;
            }
        }

        .drop {
            animation: drop 0.3s linear forwards var(--delay-time);
        }

        /**
            Marker Styling
         */
        .map-selector-marker path[class*="maps-pin-view-background"],
        .map-selector-marker path[class*="maps-pin-view-border"] {
            fill: var(--bs-primary);
        }

        .map-selector-marker path[class*="maps-pin-view-default-glyph"] {
            fill: var(--bs-white);
        }

        .map-selector-marker .map-selector-icon {
            font-size: 1.2rem;
        }
    </style>
</head>
<body class="bg-light">

<div class="d-flex justify-content-center align-items-center" style="min-height: 100vh">
    <div class="container py-4">
        <div class="alert alert-info mb-5" role="alert">
            This demo requires you to serve this file over a server for the JS module to load.
            <a href="https://github.com/Javaabu/js-map-selector" target="_blank">View project on GitHub</a>
        </div>

        <div class="row row-cols-1 row-cols-lg-2 g-4">

            <div class="col">
                <div class="card">
                    <div class="card-body py-4">
                        <h4 class="card-title mb-4">Polygon Map Selector</h4>

                        <div data-map-selector="true" data-enable-polygon="true">

                            <div class="row">
                                <div class="col-md-6">
                                    <div class="mb-4">
                                        <label class="form-label">Latitude</label>
                                        <input class="form-control map-selector-lat" type="number" name="lat" value="4.175804" step="0.000001"
                                               min="-90" max="90" placeholder="Latitude"/>
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <div class="mb-4">
                                        <label class="form-label">Longitude</label>
                                        <input class="form-control map-selector-lng" type="number" name="lng" value="73.509337" step="0.000001"
                                               min="-180" max="180" placeholder="Longitude"/>
                                    </div>
                                </div>
                            </div>

                            <div class="mb-4">
                                <label class="form-label">Polygon</label>
                                <textarea class="form-control map-selector-polygon" name="polygon" placeholder="Polygon"></textarea>
                            </div>

                            <button type="button" class="map-selector-clear-btn btn btn-light">Clear</button>

                            <div class="mt-4">
                                <input class="map-selector-search material-controls" type="text" placeholder="Search..." />
                                <div class="map-selector-map bg-light rounded"></div>
                            </div>

                        </div>

                    </div>
                </div>
            </div>

            <div class="col">
                <div class="card">
                    <div class="card-body py-4">
                        <h4 class="card-title mb-4">Polygon Map Selector Disabled</h4>

                        <div data-map-selector="true" data-enable-polygon="true" data-disabled="true">

                            <div class="row">
                                <div class="col-md-6">
                                    <div class="mb-4">
                                        <label class="form-label">Latitude</label>
                                        <input class="form-control map-selector-lat" type="number" name="lat" value="4.175804" step="0.000001"
                                               min="-90" max="90" placeholder="Latitude" disabled />
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <div class="mb-4">
                                        <label class="form-label">Longitude</label>
                                        <input class="form-control map-selector-lng" type="number" name="lng" value="73.509337" step="0.000001"
                                               min="-180" max="180" placeholder="Longitude" disabled />
                                    </div>
                                </div>
                            </div>

                            <div class="mb-4">
                                <label class="form-label">Polygon</label>
                                <textarea class="form-control map-selector-polygon" name="polygon" placeholder="Polygon" disabled></textarea>
                            </div>

                            <button type="button" class="map-selector-clear-btn btn btn-light">Clear</button>

                            <div class="mt-4">
                                <input class="map-selector-search material-controls" type="text" placeholder="Search..." disabled />
                                <div class="map-selector-map bg-light rounded"></div>
                            </div>

                        </div>

                    </div>
                </div>
            </div>

            <div class="col">
                <div class="card">
                    <div class="card-body py-4">
                        <h4 class="card-title mb-4">Radius Map Selector</h4>

                        <div data-map-selector="true" data-enable-radius="true">

                            <div class="row">
                                <div class="col-md-3">
                                    <div class="mb-4">
                                        <label class="form-label">Latitude</label>
                                        <input class="form-control map-selector-lat" type="number" name="lat" value="4.175804" step="0.000001"
                                               min="-90" max="90" placeholder="Latitude"/>
                                    </div>
                                </div>
                                <div class="col-md-3">
                                    <div class="mb-4">
                                        <label class="form-label">Longitude</label>
                                        <input class="form-control map-selector-lng" type="number" name="lng" value="73.509337" step="0.000001"
                                               min="-180" max="180" placeholder="Longitude"/>
                                    </div>
                                </div>
                                <div class="col-md-3">
                                    <div class="mb-4">
                                        <label class="form-label">Radius (Meters)</label>
                                        <input class="form-control map-selector-radius" type="number" name="radius" value="200" step="1"
                                               min="0" max="40000000" placeholder="Radius"/>
                                    </div>
                                </div>
                                <div class="col-md-3">
                                    <label class="form-label">&nbsp;</label>
                                    <div class="d-grid">
                                        <button type="button" class="map-selector-clear-btn btn btn-light px-5">Clear</button>
                                    </div>
                                </div>
                            </div>

                            <div class="mt-4">
                                <input class="map-selector-search material-controls" type="text" placeholder="Search..." />
                                <div class="map-selector-map bg-light rounded"></div>
                            </div>

                        </div>

                    </div>
                </div>
            </div>

            <div class="col">
                <div class="card">
                    <div class="card-body py-4">
                        <h4 class="card-title mb-4">Radius Map Selector Disabled</h4>

                        <div data-map-selector="true" data-enable-radius="true" data-radius-unit="km" data-disabled="true">

                            <div class="row">
                                <div class="col-md-3">
                                    <div class="mb-4">
                                        <label class="form-label">Latitude</label>
                                        <input class="form-control map-selector-lat" type="number" name="lat" value="4.175804" step="0.000001"
                                               min="-90" max="90" placeholder="Latitude" disabled />
                                    </div>
                                </div>
                                <div class="col-md-3">
                                    <div class="mb-4">
                                        <label class="form-label">Longitude</label>
                                        <input class="form-control map-selector-lng" type="number" name="lng" value="73.509337" step="0.000001"
                                               min="-180" max="180" placeholder="Longitude" disabled />
                                    </div>
                                </div>
                                <div class="col-md-3">
                                    <div class="mb-4">
                                        <label class="form-label">Radius (Km)</label>
                                        <input class="form-control map-selector-radius" type="number" name="radius" value="1" step="1"
                                               min="0" max="40000000" placeholder="Radius" disabled />
                                    </div>
                                </div>
                                <div class="col-md-3">
                                    <label class="form-label">&nbsp;</label>
                                    <div class="d-grid">
                                        <button type="button" class="map-selector-clear-btn btn btn-light px-5">Clear</button>
                                    </div>
                                </div>
                            </div>

                            <div class="mt-4">
                                <input class="map-selector-search material-controls" type="text" placeholder="Search..." disabled />
                                <div class="map-selector-map bg-light rounded"></div>
                            </div>

                        </div>

                    </div>
                </div>
            </div>

            <div class="col">
                <div class="card">
                    <div class="card-body py-4">
                        <h4 class="card-title mb-4">Radius Only Map Selector</h4>

                        <div data-map-selector="true"
                             data-lat="7.084013"
                             data-lng="72.926863"
                             data-radius-unit="km"
                             data-radius-precision="3"
                             data-circle-fill-color="#0d6efd"
                             data-circle-stroke-color="#0d6efd"
                             data-enable-radius="true"
                             data-enable-marker="false">

                            <div class="row">
                                <div class="col-md-9">
                                    <div class="mb-4">
                                        <label class="form-label">Radius (Km)</label>
                                        <input class="form-control map-selector-radius" type="number" name="radius" value="5" step="0.001"
                                               min="0" max="40000000" placeholder="Radius"/>
                                    </div>
                                </div>
                                <div class="col-md-3">
                                    <label class="form-label">&nbsp;</label>
                                    <div class="d-grid">
                                        <button type="button" class="map-selector-clear-btn btn btn-light px-5">Clear</button>
                                    </div>
                                </div>
                            </div>

                            <div class="mt-4">
                                <input class="map-selector-search material-controls" type="text" placeholder="Search..." />
                                <div class="map-selector-map bg-light rounded"></div>
                            </div>

                        </div>

                    </div>
                </div>
            </div>

            <div class="col">
                <div class="card">
                <div class="card-body py-4">
                    <h4 class="card-title mb-4">Basic Map Selector</h4>

                    <div
                        data-map-selector="#location-map"
                        data-lat="4.175804"
                        data-lng="73.509337"
                    >

                        <div class="row">
                            <div class="col-md-4">
                                <div class="mb-4">
                                    <label for="lat" class="form-label">Latitude</label>
                                    <input class="form-control map-selector-lat" type="number" id="lat" name="lat" value="4.175804" step="0.000001"
                                           min="-90" max="90" placeholder="Latitude"/>
                                </div>
                            </div>
                            <div class="col-md-4">
                                <div class="mb-4">
                                    <label for="lng" class="form-label">Longitude</label>
                                    <input class="form-control map-selector-lng" type="number" id="lng" name="lng" value="73.509337" step="0.000001"
                                           min="-180" max="180" placeholder="Longitude"/>
                                </div>
                            </div>
                            <div class="col-md-4">
                                <label for="clear-coords" class="form-label">&nbsp;</label>
                                <div class="d-grid">
                                    <button type="button" class="map-selector-clear-btn btn btn-light px-5" id="clear-coords">Clear</button>
                                </div>
                            </div>
                        </div>

                        <div class="mt-4">
                            <input id="location-input" class="map-selector-search material-controls" type="text" placeholder="Search...">
                            <div id="location-map" class="map-selector-map bg-light rounded"></div>
                        </div>

                    </div>

                </div>
            </div>
            </div>

            <div class="col">
                <div class="card">
                    <div class="card-body py-4">
                        <h4 class="card-title mb-4">Disabled Map Selector</h4>

                        <div data-map-selector="true" data-disabled="true">

                            <div class="row">
                                <div class="col-md-4">
                                    <div class="mb-4">
                                        <label class="form-label">Latitude</label>
                                        <input class="form-control map-selector-lat" type="number" name="lat" value="4.175804" step="0.000001"
                                               min="-90" max="90" placeholder="Latitude" disabled />
                                    </div>
                                </div>
                                <div class="col-md-4">
                                    <div class="mb-4">
                                        <label class="form-label">Longitude</label>
                                        <input class="form-control map-selector-lng" type="number" name="lng" value="73.509337" step="0.000001"
                                               min="-180" max="180" placeholder="Longitude" disabled />
                                    </div>
                                </div>
                                <div class="col-md-4">
                                    <label for="clear-coords" class="form-label">&nbsp;</label>
                                    <div class="d-grid">
                                        <button type="button" class="map-selector-clear-btn btn btn-light px-5" disabled>Clear</button>
                                    </div>
                                </div>
                            </div>

                            <div class="mt-4">
                                <input id="location-input" class="map-selector-search material-controls" type="text" placeholder="Search..." disabled>
                                <div id="map" class="map-selector-map bg-light rounded"></div>
                            </div>

                        </div>

                    </div>
                </div>
            </div>

            <div class="col">
                <div class="card">
                    <div class="card-body py-4">
                        <h4 class="card-title mb-4">Map Display Customized Pin Color</h4>

                        <div data-map-selector="true"
                             data-lat="7.084013"
                             data-lng="72.926863"
                             data-pin-class="custom-pin"
                             data-pin-scale="2"
                             data-pin-background="#000"
                             data-pin-border-color="#000"
                             data-pin-glyph-color="#fff"
                             data-disabled="true"
                             data-zoom="13"
                        >
                            <div class="map-selector-map bg-light rounded"></div>
                        </div>

                    </div>
                </div>
            </div>

            <div class="col">
                <div class="card">
                    <div class="card-body py-4">
                        <h4 class="card-title mb-4">Map Display Image Pin</h4>

                        <div data-map-selector="true"
                             data-lat="7.084013"
                             data-lng="72.926863"
                             data-pin-image="./img/map-marker.png"
                             data-disabled="true"
                             data-zoom="13"
                        >
                            <div class="map-selector-map bg-light rounded"></div>
                        </div>

                    </div>
                </div>
            </div>

            <div class="col">
                <div class="card">
                    <div class="card-body py-4">
                        <h4 class="card-title mb-4">Map Display Icon Pin</h4>

                        <div data-map-selector="true"
                             data-lat="7.084013"
                             data-lng="72.926863"
                             data-icon-prefix="fa"
                             data-pin-icon="book"
                             data-pin-glyph-color="#fff"
                             data-disabled="true"
                             data-zoom="13"
                        >
                            <div class="map-selector-map bg-light rounded"></div>
                        </div>

                    </div>
                </div>
            </div>

            <div class="col">
                <div class="card">
                    <div class="card-body py-4">
                        <h4 class="card-title mb-4">Radius Only Display</h4>

                        <div data-map-selector="true"
                             data-lat="7.084013"
                             data-lng="72.926863"
                             data-radius-unit="km"
                             data-radius="5"
                             data-disabled="true"
                             data-enable-radius="true"
                             data-enable-marker="false">
                            <div class="map-selector-map bg-light rounded"></div>
                        </div>

                    </div>
                </div>
            </div>

        </div>
    </div>
</div>

<!-- Used only for demo purposes. Remove this line. -->
<script src="./api-key.js"></script>

<script>
    (g=>{var h,a,k,p='The Google Maps JavaScript API',c='google',l='importLibrary',q='__ib__',m=document,b=window;b=b[c]||(b[c]={});var d=b.maps||(b.maps={}),r=new Set,e=new URLSearchParams,u=()=>h||(h=new Promise(async(f,n)=>{await (a=m.createElement('script'));e.set('libraries',[...r]+'');for(k in g)e.set(k.replace(/[A-Z]/g,t=>'_'+t[0].toLowerCase()),g[k]);e.set('callback',c+'.maps.'+q);a.src=`https://maps.${c}apis.com/maps/api/js?`+e;d[q]=f;a.onerror=()=>h=n(Error(p+' could not load.'));a.nonce=m.querySelector('script[nonce]')?.nonce||'';m.head.append(a)}));d[l]?console.warn(p+' only loads once. Ignoring:',g):d[l]=(f,...n)=>r.add(f)&&u().then(()=>d[l](f,...n))})({
        key: API_KEY, // replace with your own api key
        v: 'weekly',
    });
</script>

<script type="module">
    // cache busted loading for demo purposes only
    let mapSelector = await import('../src/index.js?v=' + Math.random());

    mapSelector.init();
</script>

</body>
</html>